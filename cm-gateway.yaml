apiVersion: v1
kind: ConfigMap
metadata:
  name: gateway-cm
  namespace: default
  labels:
    k8s-app: gateway
data:
  management.endpoint.shutdown.enabled: "true"
  management.endpoints.web.exposure.include: '*'
  server.port: "5500"
  spring.datasource.url: jdbc:postgresql://postgres-service:5432/users
  spring.datasource.username: postgres
  spring.jpa.database-platform: org.hibernate.dialect.PostgreSQLDialect
  spring.jpa.hibernate.ddl-auto: update
  spring.jpa.show-sql: "true"
  spring.security.oauth2.client.registration.spring.provider: spring
  spring.security.oauth2.client.registration.spring.client-id: gateway
  spring.security.oauth2.client.registration.spring.client-secret: secret
  spring.security.oauth2.client.registration.spring.client-authentication-method: client_secret_basic
  spring.security.oauth2.client.registration.spring.authorization-grant-type: authorization_code
  spring.security.oauth2.client.registration.spring.redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
  spring.security.oauth2.client.registration.spring.scope: user.read,user.write,openid
  spring.security.oauth2.client.provider.spring.issuer-uri: http://authorization-service:5050
  logging.level.org.springframework.security: trace
  gateway.routes.recipe: http://recipe-service:9090/
  gateway.routes.code: http://code-sharing-service:9000/
  gateway.routes.quiz: http://quiz-engine-service:9009/
